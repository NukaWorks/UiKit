import { Meta, Story, Canvas } from "@storybook/blocks";
import { Tabs, TabList, Tab, TabPanel } from "../../../Layouts";
import { Text } from "../../../Base/Text";
import { AppActivity } from "../../../App/AppActivity";

<Meta title="Components/Layouts/Tabs" component={Tabs} />

# Layout Components

## Tabs

A composable tabs component that follows WAI-ARIA guidelines for accessibility.

### Basic Usage

<Canvas>
  <Story name="Basic">
    <AppActivity>
      <Tabs>
        <TabList>
          <Tab>First Tab</Tab>
          <Tab>Second Tab</Tab>
          <Tab>Third Tab</Tab>
        </TabList>
        <TabPanel>
          <Text>Content for the first tab</Text>
        </TabPanel>
        <TabPanel>
          <Text>Content for the second tab</Text>
        </TabPanel>
        <TabPanel>
          <Text>Content for the third tab</Text>
        </TabPanel>
      </Tabs>
    </AppActivity>
  </Story>
</Canvas>

### With Icons

<Canvas>
  <Story name="WithIcons">
    <AppActivity>
      <Tabs>
        <TabList>
          <Tab startIcon="ðŸ“">Documents</Tab>
          <Tab startIcon="ðŸ“¸">Images</Tab>
          <Tab startIcon="ðŸŽµ">Music</Tab>
        </TabList>
        <TabPanel>
          <Text>Your documents will appear here</Text>
        </TabPanel>
        <TabPanel>
          <Text>Your images will appear here</Text>
        </TabPanel>
        <TabPanel>
          <Text>Your music will appear here</Text>
        </TabPanel>
      </Tabs>
    </AppActivity>
  </Story>
</Canvas>

### Controlled Tabs

```tsx live
function ControlledTabs() {
  const [activeTab, setActiveTab] = React.useState(0);

  return (
    <AppActivity>
      <Tabs selectedIndex={activeTab} onChange={setActiveTab}>
        <TabList>
          <Tab>Tab 1</Tab>
          <Tab>Tab 2</Tab>
        </TabList>
        <TabPanel>
          <Text>Active tab index: {activeTab}</Text>
        </TabPanel>
        <TabPanel>
          <Text>Active tab index: {activeTab}</Text>
        </TabPanel>
      </Tabs>
    </AppActivity>
  );
}
```

## API Reference

### Tabs Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Must include TabList and TabPanel components |
| `selectedIndex` | `number` | `0` | Controlled selected tab index |
| `onChange` | `(index: number) => void` | - | Called when active tab changes |
| `defaultIndex` | `number` | `0` | Initial selected tab index |

### TabList Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Must be Tab components |
| `aria-label` | `string` | - | Accessibility label |

### Tab Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Tab content |
| `disabled` | `boolean` | `false` | Disables the tab |
| `startIcon` | `ReactNode` | - | Icon before text |
| `endIcon` | `ReactNode` | - | Icon after text |

### TabPanel Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Panel content |

## Accessibility

The Tabs component follows WAI-ARIA guidelines:

- Uses `role="tablist"`, `role="tab"`, and `role="tabpanel"`
- Keyboard navigation with arrow keys
- Proper focus management
- ARIA attributes for selected state

```tsx live
<AppActivity>
  <Tabs>
    <TabList aria-label="File types">
      <Tab id="documents-tab" aria-controls="documents-panel">
        Documents
      </Tab>
      <Tab id="images-tab" aria-controls="images-panel">
        Images
      </Tab>
    </TabList>
    <TabPanel id="documents-panel" aria-labelledby="documents-tab">
      <Text>Document content here</Text>
    </TabPanel>
    <TabPanel id="images-panel" aria-labelledby="images-tab">
      <Text>Image content here</Text>
    </TabPanel>
  </Tabs>
</AppActivity>
```

## Best Practices

### Do's
- Use meaningful labels for tabs
- Keep tab labels short and clear
- Ensure content is logically grouped
- Maintain consistent height between panels

### Don'ts
- Don't nest tabs within tabs
- Avoid too many tabs in a single group
- Don't use tabs for sequential content
- Don't change tab order dynamically

## Examples

### Responsive Tabs

```tsx live
<AppActivity>
  <div style={{ maxWidth: "100%", overflowX: "auto" }}>
    <Tabs>
      <TabList>
        <Tab>Profile</Tab>
        <Tab>Settings</Tab>
        <Tab>Notifications</Tab>
        <Tab>Security</Tab>
      </TabList>
      <TabPanel>
        <Text>Profile content</Text>
      </TabPanel>
      <TabPanel>
        <Text>Settings content</Text>
      </TabPanel>
      <TabPanel>
        <Text>Notifications content</Text>
      </TabPanel>
      <TabPanel>
        <Text>Security content</Text>
      </TabPanel>
    </Tabs>
  </div>
</AppActivity>
```

### With Custom Styling

```tsx live
<AppActivity>
  <Tabs>
    <TabList style={{ borderBottom: "2px solid #e0e0e0" }}>
      <Tab style={{ padding: "12px 24px" }}>
        Custom Tab 1
      </Tab>
      <Tab style={{ padding: "12px 24px" }}>
        Custom Tab 2
      </Tab>
    </TabList>
    <TabPanel style={{ padding: "24px" }}>
      <Text>Custom styled content 1</Text>
    </TabPanel>
    <TabPanel style={{ padding: "24px" }}>
      <Text>Custom styled content 2</Text>
    </TabPanel>
  </Tabs>
</AppActivity>
``` 